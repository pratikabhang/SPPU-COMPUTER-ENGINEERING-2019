#include<iostream>
#include<string>
#define N 20
#define SERIOUS 10
#define NONSERIOUS 5
#define CHECKUP 1
using namespace std;
string Q[N];
int Pr[N];
int r = -1,f = -1;
void enqueue(string data,int p)
{
int i;
if((f==0)&&(r==N-1))
cout<<"Queue is full";
else {
if(f==-1) {
f = r = 0;
Q[r] = data;
Pr[r] = p;
}
else if(r == N-1) { 
for(i=f;i<=r;i++) {
 Q[i-f] = Q[i];
 Pr[i-f] = Pr[i];
 r = r-f;
 f = 0;
 for(i = r;i>f;i--) {
if(p>Pr[i]) {
Q[i+1] = Q[i];
Pr[i+1] = Pr[i];
}
else break;
Q[i+1] = data;
Pr[i+1] = p;
r++;
}
}
}
else {
for(i = r;i>=f;i--) {
if(p>Pr[i]) {
Q[i+1] = Q[i];
Pr[i+1] = Pr[i];
}
else break;
}
Q[i+1] = data;
Pr[i+1] = p;
r++;
}
}
}
void print() {
int i;
for(i=f;i<=r;i++) {
cout << "Patient's Name - "<<Q[i];
switch(Pr[i]) {
case 1:
cout << " Priority - 'Checkup' " << endl;
break;
case 5:
cout << " Priority - 'Non-serious' " << endl;
break;
case 10:
cout << " Priority - 'Serious' " << endl;
break;
default:
cout << "Priority not found" << endl;
}
}
}
void dequeue() {
if(f == -1) {
cout<<"Queue is Empty";
}
else {
cout<<"Deleted Element = "<<Q[f]<<endl;
cout<<"Its Priority = "<<Pr[f]<<endl;
if(f==r) f = r = -1;
else f++;
}
}
int main() {
string data;
int opt,n,i,p;
do {
cout << "1.Insert Data in Queue\n2.Display Data from Queue\n3.Delete Data from Queue\n4.Exist\nEnter your Choice : ";
cin >> opt;
switch(opt) {
case 1:
cout << "Enter the number of patinent : ";
cin >> n;
i = 0;
while(i < n) {
cout << "Enter Patient Name : ";
cin >> data;
ifnotdoagain:
cout << "Enter your Priority (0 : Serious, 1 : Non-Serious, 2 : Genral-Checkup) : ";
cin >> p;
switch(p) {
case 0:
enqueue(data,SERIOUS);
break;
case 1:
enqueue(data,NONSERIOUS);
break;
case 2:
enqueue(data,CHECKUP);
break;
default:
goto ifnotdoagain;
}
i++;
}
break;
case 2:
print();
break;
case 3:
dequeue();
break;
case 4:
cout << "Exist" << endl;
break;
default:
cout<<"Incorrect Choice"<<endl;
}
}while(opt!=4);
 return 4;
}