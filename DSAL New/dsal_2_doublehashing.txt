class HashTable:
    def __init__(self, size):
        self.size = size
        self.keys = [None] * size
        self.values = [None] * size

    def hash_function(self, key):
        return hash(key) % self.size

    def quadratic_probing(self, index, attempt):
        return (index + attempt**2) % self.size

    def double_hashing(self, index, attempt):
        hash1 = self.hash_function(index)
        hash2 = 1 + (index % (self.size - 1))
        return (hash1 + attempt * hash2) % self.size

    def insert(self, key, value):
        index = self.hash_function(key)
        attempt = 0
        while self.keys[index] is not None:
            if self.keys[index] == key:
                self.values[index] = value
                return
            attempt += 1
            index = self.quadratic_probing(index, attempt)
        self.keys[index] = key
        self.values[index] = value

    def search(self, key):
        index = self.hash_function(key)
        attempt = 0
        comparisons = 0
        while self.keys[index] is not None:
            comparisons += 1
            if self.keys[index] == key:
                return self.values[index], comparisons
            attempt += 1
            index = self.quadratic_probing(index, attempt)
        return None, comparisons

    def display_data(self):
        print("Telephone Book Database:")
        for i in range(self.size):
            if self.keys[i] is not None:
                print(f"Name: {self.keys[i]}, Telephone Number: {self.values[i]}")


def display_menu():
    print("Telephone Book Database")
    print("1. Add Client")
    print("2. Search Telephone Number")
    print("3. Display Data")
    print("4. Exit")


def main():
    size = int(input("Enter the size of the hash table: "))
    telephone_book = HashTable(size)
    while True:
        display_menu()
        choice = input("Enter your choice: ")
        if choice == "1":
            name = input("Enter client name: ")
            number = input("Enter telephone number: ")
            telephone_book.insert(name, number)
            print("Client added successfully.")
        elif choice == "2":
            name = input("Enter client name to search: ")
            result, comparisons = telephone_book.search(name)
            if result:
                print(f"Telephone number: {result}")
                print(f"Number of comparisons required: {comparisons}")
            else:
                print("Client not found.")
        elif choice == "3":
            telephone_book.display_data()
        elif choice == "4":
            print("Exiting...")
            break
        else:
            print("Invalid choice. Please try again.")


if __name__ == '__main__':
    main()
